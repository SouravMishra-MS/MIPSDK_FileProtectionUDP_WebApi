@MIPSDK_FileOperations_API_HostAddress = http://localhost:5161
@BearerToken = eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6InJ0c0ZULWItN0x1WTdEVlllU05LY0lKN1ZuYyIsImtpZCI6InJ0c0ZULWItN0x1WTdEVlllU05LY0lKN1ZuYyJ9.eyJhdWQiOiJhcGk6Ly8yMWE3MTFjOS1kZjRjLTRhM2ItYWNlYS03YWM5MDZlZTQ1ZDciLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8wODkxNTI4Zi1iNzg5LTQxZWYtOWQxMC04OTVhNDRmNWY2MjQvIiwiaWF0IjoxNzY1MTIwNzU3LCJuYmYiOjE3NjUxMjA3NTcsImV4cCI6MTc2NTEyNjE5MSwiYWNyIjoiMSIsImFpbyI6IkFXUUFtLzhhQUFBQVhUV2x5UVRmaUhYMHNUTGpRdW1oWnRqendacFdLVmt3WURCa2puMUlReG95a3BuQkpFdGlpSFl4bzJ1eDZDY3FHelZJNjlSK28xZ2FtNEI1N2IxN3NtcGg4cGJ1SVFORmhocVk3UEEvT2lteEtGb0dGNEFuenZpN1RXT1FLeFNPIiwiYW1yIjpbInB3ZCIsInJzYSJdLCJhcHBpZCI6IjFkNjIzMGFmLTc2ODktNGI5Yy05ODM4LTRjMzAxYTBjMmYwNyIsImFwcGlkYWNyIjoiMCIsImRldmljZWlkIjoiZDc3ZmE1ZTctOTU4Ni00N2I2LTk4YWYtZTU1MWFlY2RiMTcyIiwiZmFtaWx5X25hbWUiOiJNaXNocmEiLCJnaXZlbl9uYW1lIjoiU291cmF2IiwiaXBhZGRyIjoiNC4yMTMuOTQuMTU2IiwibmFtZSI6IlNvdXJhdiBNaXNocmEgKExvY2FsVXNlcikiLCJvaWQiOiIyMzllODZiNC1iYWJjLTQ0MzgtYjg5Zi1lNjIzNDE2OGJmYjciLCJyaCI6IjEuQVhBQWoxS1JDSW0zNzBHZEVJbGFSUFgySk1rUnB5Rk0zenRLck9wNnlRYnVSZGNrQVFSd0FBLiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInNpZCI6IjAwYWJmZjU5LWViNWEtYzQ1MS01NjAzLWY0YTBjMTAxMjE1ZiIsInN1YiI6IlVvVG5SMlVxbXYxNFI0STktV1dOMy1VS0xTOEp6R1NDcndxcTdSSGctMzgiLCJ0aWQiOiIwODkxNTI4Zi1iNzg5LTQxZWYtOWQxMC04OTVhNDRmNWY2MjQiLCJ1bmlxdWVfbmFtZSI6InNvdXJhdkBzb3VtaW9yZy5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJzb3VyYXZAc291bWlvcmcub25taWNyb3NvZnQuY29tIiwidXRpIjoiVG9tM0lxVlFzMHVFc3lsaGstd1RBQSIsInZlciI6IjEuMCIsInhtc19mdGQiOiJXajBXbnNLd2o0anpsYlVwMzdrOTJMQ29IZ0x2QS04ZXJ2Xy0zTDFBRm9NQllYTnBZWE52ZFhSb1pXRnpkQzFrYzIxeiJ9.gW76EqKafcEU2HiaWadqexkXSyzYnYeL3BdXB3ZnT5my6ASFIz5f-fA68g35H4UNsWX1XCCSZ6PricIOO5mANgymF1FVPhtDJ-O48L3tBXIohl9A8Q9RzkASqUkfv-aCAewL2kEitMvVfSxekoEGiwB7yWHKG0CzG0jNZrbaZkxzFLNAmGvi8OufLAMEDX1IoBKi5RTbJjloGzC9GTcPh6DCWJRGLec8tury0dPkGxHSEyxcEqJiDvrLnXmwW7kqlLzYbqeiTO4LptTmvbz-E2ZXzCnG4mSD1xT-9zsA4a4q2ExZ5hVsn6ENqdOIwjZ4Yv8I_gQndUUu2v0h4oocbw
@InputFilePath = D:\WorkDocs\MIP_SDK_Tests\MIPSDK_UDP_Test\MIPSDK_TestDoc.pdf
@OutputFilePath = D:\\WorkDocs\\MIP_SDK_Tests\\MIPSDK_UDP_Test\\ProtectedFiles
@OutputFileName = MIPSDK_TestDoc_Protected.pdf

### Health Check Endpoint
GET {{MIPSDK_FileOperations_API_HostAddress}}/api/healthcheck/status
Accept: application/json

### Protect File Endpoint
POST {{MIPSDK_FileOperations_API_HostAddress}}/api/fileprotection/protect
Authorization: Bearer {{BearerToken}}
Content-Type: multipart/form-data; boundary=----FormBoundary

------FormBoundary
Content-Disposition: form-data; name="file"; filename="MIPSDK_TestDoc.pdf"
Content-Type: application/pdf

<{{InputFilePath}}
------FormBoundary
Content-Disposition: form-data; name="protectionDefinition"
Content-Type: application/json

{
  "userPermissions": [
    {
      "email": "humpty@soumiorg.onmicrosoft.com",
      "rights": ["VIEW"]
    },
    {
      "email": "dumpty@soumiorg.onmicrosoft.com",
      "rights": ["PRINT"]
    }
  ],
  "includeCallerAsOwner": true,
  "outputFileName": "{{OutputFileName}}",
  "outputFolderPath": "{{OutputFilePath}}"
}
------FormBoundary--
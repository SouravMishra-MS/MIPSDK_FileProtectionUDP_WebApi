@MIPSDK_FileOperations_API_HostAddress = http://localhost:5161
@BearerToken = eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6InJ0c0ZULWItN0x1WTdEVlllU05LY0lKN1ZuYyIsImtpZCI6InJ0c0ZULWItN0x1WTdEVlllU05LY0lKN1ZuYyJ9.eyJhdWQiOiJhcGk6Ly8yMWE3MTFjOS1kZjRjLTRhM2ItYWNlYS03YWM5MDZlZTQ1ZDciLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC8wODkxNTI4Zi1iNzg5LTQxZWYtOWQxMC04OTVhNDRmNWY2MjQvIiwiaWF0IjoxNzY1Mjk2MTc1LCJuYmYiOjE3NjUyOTYxNzUsImV4cCI6MTc2NTMwMTY3NywiYWNyIjoiMSIsImFpbyI6IkFXUUFtLzhhQUFBQU5VNE5QdGJ1ZDdkWVJEOEN4WXZnMGlab2czR2ltc0RwZllSV2w0a0REZ2RhdlVWUjNSMHVlK2dSNWw1Q2tpRHU2bTZTcnY5SGJ5R3JMcE94bW5ReXRNbklWeElpdE43ZC9HU0k0dklNcCtNcXY1eG1VcHdnRmZ6WFphSkY0OW04IiwiYW1yIjpbInB3ZCIsInJzYSJdLCJhcHBpZCI6IjFkNjIzMGFmLTc2ODktNGI5Yy05ODM4LTRjMzAxYTBjMmYwNyIsImFwcGlkYWNyIjoiMCIsImRldmljZWlkIjoiZDc3ZmE1ZTctOTU4Ni00N2I2LTk4YWYtZTU1MWFlY2RiMTcyIiwiZmFtaWx5X25hbWUiOiJNaXNocmEiLCJnaXZlbl9uYW1lIjoiU291cmF2IiwiaXBhZGRyIjoiNC4yMTMuOTQuMTU2IiwibmFtZSI6IlNvdXJhdiBNaXNocmEgKExvY2FsVXNlcikiLCJvaWQiOiIyMzllODZiNC1iYWJjLTQ0MzgtYjg5Zi1lNjIzNDE2OGJmYjciLCJyaCI6IjEuQVhBQWoxS1JDSW0zNzBHZEVJbGFSUFgySk1rUnB5Rk0zenRLck9wNnlRYnVSZGNrQVFSd0FBLiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInNpZCI6IjAwYWJmZjU5LWViNWEtYzQ1MS01NjAzLWY0YTBjMTAxMjE1ZiIsInN1YiI6IlVvVG5SMlVxbXYxNFI0STktV1dOMy1VS0xTOEp6R1NDcndxcTdSSGctMzgiLCJ0aWQiOiIwODkxNTI4Zi1iNzg5LTQxZWYtOWQxMC04OTVhNDRmNWY2MjQiLCJ1bmlxdWVfbmFtZSI6InNvdXJhdkBzb3VtaW9yZy5vbm1pY3Jvc29mdC5jb20iLCJ1cG4iOiJzb3VyYXZAc291bWlvcmcub25taWNyb3NvZnQuY29tIiwidXRpIjoiZ2pXMjdEMjY4MDJXckZOR0lVSUFBQSIsInZlciI6IjEuMCIsInhtc19mdGQiOiJvR3JxNVRtUENSdGZWMWliQzNTZTNtN19KMzFJanZNM0Z4WFNmMzFldHNBQllYTnBZWE52ZFhSb1pXRnpkQzFrYzIxeiJ9.QCA_vxyld6sFz4VoHP6fve-yXHn47Xk7_DX4EgOsDBQIjN_qb5d88aR0RWXJ0ap1zzzj-NRWSKC8g29m_o91ATu4e-CVvSabI7X4SGMrwmLXIIQrfB9aBEQ0p4qtHCn7g8w77nyj6nqZMw4Uu6YmI19uYijV3wi_Sh8awyTQEp0Guv2Fgn1ZyOdR_66GrjLxjBKRkAb6THw9GD5Vd1Y531eJm9rJ3gINOvod3qXRdNleWpb_qqtwh4RN_c3P7safri45VV_wletUOafBlFDcrCT-0LiF8uOVsNnGtD_wI3ePehfZyNeceA542RR7mp0o79QCsehpKzXivH79LUX1YQ
@InputFilePath = D:\WorkDocs\MIP_SDK_Tests\MIPSDK_UDP_Test\MIPSDK_TestDoc.pdf
@OutputFilePath = D:\\WorkDocs\\MIP_SDK_Tests\\MIPSDK_UDP_Test\\ProtectedFiles
@OutputFileName = MIPSDK_TestDoc_Protected.pdf

### Health Check Endpoint
GET {{MIPSDK_FileOperations_API_HostAddress}}/api/healthcheck/status
Accept: application/json

### Protect File Endpoint
POST {{MIPSDK_FileOperations_API_HostAddress}}/api/fileprotection/protect
Authorization: Bearer {{BearerToken}}
Content-Type: multipart/form-data; boundary=----FormBoundary

------FormBoundary
Content-Disposition: form-data; name="file"; filename="MIPSDK_TestDoc.pdf"
Content-Type: application/pdf

<{{InputFilePath}}
------FormBoundary
Content-Disposition: form-data; name="protectionDefinition"
Content-Type: application/json

{
  "userPermissions": [
    {
      "email": "humpty@soumiorg.onmicrosoft.com",
      "rights": ["VIEW"]
    },
    {
      "email": "dumpty@soumiorg.onmicrosoft.com",
      "rights": ["PRINT"]
    }
  ],
  "includeCallerAsOwner": true,
  "outputFileName": "{{OutputFileName}}",
  "outputFolderPath": "{{OutputFilePath}}"
}
------FormBoundary--